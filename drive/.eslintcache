[{"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\index.js":"1","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App.js":"2","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\intro\\index.jsx":"3","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\intro\\Slide.jsx":"4","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\storage\\index.js":"5","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\logo\\MainLogo.jsx":"6","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\storage\\admin\\Admin.jsx":"7","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\storage\\signup.jsx":"8"},{"size":526,"mtime":1610039166737,"results":"9","hashOfConfig":"10"},{"size":795,"mtime":1610093298087,"results":"11","hashOfConfig":"10"},{"size":82291,"mtime":1609864457530,"results":"12","hashOfConfig":"10"},{"size":5034,"mtime":1609257938566,"results":"13","hashOfConfig":"10"},{"size":7266,"mtime":1613401621313,"results":"14","hashOfConfig":"10"},{"size":312,"mtime":1610978115702,"results":"15","hashOfConfig":"10"},{"size":115,"mtime":1610018303698,"results":"16","hashOfConfig":"10"},{"size":11772,"mtime":1614868566787,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"3hodxc",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\index.js",[],["37","38"],"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App.js",["39"],"import \"./App.css\";\nimport Intro from \"./App/intro/index.jsx\";\nimport Storage from \"./App/storage/index.js\";\nimport { BrowserRouter as Router, Switch, Route,} from \"react-router-dom\";\nimport Admin from \"./App/storage/admin/Admin\"\nimport Signup from \"./App/storage/signup.jsx\"\n\nfunction App() {\n  const NotFound=()=>{return(<><h1>Page not found</h1></>)};\n  return (\n    <>\n      {/* <Intro /> */}\n      \n      <Switch>\n        <Route exact path=\"/\">\n          <Intro />\n        </Route>\n        <Route exact path=\"/Storage\">\n          \n          <Storage />\n        </Route>\n        <Route exact path=\"/Storage/Admin\"><Admin/></Route>\n        <Route exact path=\"/Storage/signup\"><Signup/></Route>\n        <Route component={NotFound} />\n      </Switch>\n      \n    </>\n  );\n}\n\nexport default App;\n","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\intro\\index.jsx",[],"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\intro\\Slide.jsx",[],"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\storage\\index.js",["40","41","42"],"import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./index.scss\";\r\nimport axios from \"axios\";\r\nimport { Redirect,Link } from \"react-router-dom\";\r\n\r\n// import { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\n\r\nconst Storage = () => {\r\n  const form = useRef(null);\r\n  // change the apiURL..>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n  let apiURL = \"http://localhost/GoogleDrive/phpBakend/login.php\";\r\n  //................>>>>>>>>>>\r\n\r\n  const [userData, newUserData] = useState({});\r\n  const [setCookie, nSetCookie] = useState(false);\r\n  const [loggedInStatus, check] = useState(false);\r\n  const [keyCheckFunCall, incriment] = useState(0);\r\n  const [LSC, ILSC] = useState(0);\r\n  const CheckedLoginState = (name) => {\r\n    var allCookie = document.cookie.split(\";\");\r\n    for (let index = 0; index < allCookie.length; index++) {\r\n      let element = allCookie[index].split(\"=\");\r\n      if (name === element[0].trim()) {\r\n        ILSC(LSC + 1);\r\n\r\n        console.log(\"user token\");\r\n        console.log(element[1].trim());\r\n        if (element[1].trim() !== \"\") {\r\n          console.log(\"userToken exist\");\r\n          const TokenChecker = async () => {\r\n            console.log(\"hello\");\r\n            console.log(element[1].trim());\r\n            // SendData{}\r\n            // let formData = new FormData();\r\n            // formData.append(\"section\", \"general\");\r\n            // formData.append(\"action\", \"previewImg\");\r\n            //..>> sending data to server in formdata function easy to use without json\r\n            let userDataToken = new FormData();\r\n            userDataToken.append(\"name\", \"Token_Check\");\r\n            userDataToken.append(\"Token\", element[1].trim());\r\n            console.log(userDataToken);\r\n\r\n            const config = {\r\n              method: \"POST\",\r\n              url: apiURL,\r\n              data: userDataToken,\r\n              withCredentials: true,\r\n            };\r\n\r\n            const request = await axios(config);\r\n            const response = request.data;\r\n            console.log(response);\r\n\r\n            if (response.TokenAuth === true && response.error === false) {\r\n              check(true);\r\n            }\r\n\r\n            // const Request =await axios.post('http://localhost/GoogleDrive/phpBakend/tokenChecker.php',{name:\"anything\"})\r\n            // console.log(Request.data);\r\n          };\r\n\r\n          TokenChecker();\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const loginSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"submitted\");\r\n    ILSC(LSC + 1);\r\n    // console.log(loginDetails);\r\n    // console.log(new FormData(form));\r\n\r\n    const data = new FormData(form.current);\r\n    console.log(data.entries);\r\n    for (var pair of data.entries()) {\r\n      console.log(pair[0] + \", \" + pair[1]);\r\n    }\r\n    const sendPostRequest = async () => {\r\n      console.log(data);\r\n      const config = {\r\n        method: \"POST\",\r\n        url: apiURL,\r\n        data: data,\r\n        withCredentials: true,\r\n      };\r\n      const PostResp = await axios(config);\r\n      // console.log(PostResp.data);\r\n      const jsondata = JSON.parse(JSON.stringify(PostResp.data));\r\n      console.log(jsondata.login);\r\n      newUserData(jsondata);\r\n    };\r\n\r\n    // sendGetRequest();\r\n    sendPostRequest();\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(userData);\r\n    function setCookies(n, v, e) {\r\n      let expiry = \"\";\r\n      if (e) {\r\n        var date = new Date();\r\n        date.setTime(date.getTime() + e * 24 * 60 * 60 * 1000);\r\n        expiry = \"; expires = \" + date.toUTCString;\r\n      }\r\n      document.cookie = n + \"=\" + v + expiry + \"; path=/\";\r\n      nSetCookie(false);\r\n    }\r\n    if (Object.keys(userData).length === 0) {\r\n      console.log(\"no login request\");\r\n    } else {\r\n      console.log(\"login request send\");\r\n      if (userData.login === false) {\r\n        alert(\"please enter correct username and password\");\r\n      } if(userData.login ===true){\r\n        nSetCookie(true);\r\n        localStorage.setItem(\"Session\", userData.session_id);\r\n        sessionStorage.setItem(\"lastname\", \"Smith\");\r\n\r\n        console.log(userData.userToken);\r\n        localStorage.setItem(\"c_user\", userData.userToken);\r\n        if (userData.userToken !== false) {\r\n          // document.cookie = \"username=; expires=Thu, 01 Jan 2030 00:00:00 UTC; path=/;\";\r\n          setCookies(\"userToken\", userData.userToken, 90);\r\n          check(true);\r\n          \r\n        } else {\r\n          document.cookie =\r\n            \"userToken =;expires = 01 jan 1970 00:00:00 UTC;path=/\";\r\n            check(true);\r\n        }\r\n        console.log(new Date().setTime(new Date().getTime()));\r\n        //alert must be at the bottom don't know why\r\n        alert(\"user found\");\r\n      }\r\n    }\r\n  }, [userData]);\r\n  if (LSC === 0) {\r\n    if (loggedInStatus === false) {\r\n      CheckedLoginState(\"userToken\");\r\n    }\r\n    ILSC(LSC + 1);\r\n  } else {\r\n    console.log(\"nope\");\r\n  }\r\n  if (loggedInStatus === true) {\r\n    // console.log(\"already login\");\r\n    return <Redirect to=\"./Storage/Admin\" />;\r\n  } else {\r\n    console.log(\"nothing\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"storageIndex\">\r\n        <section className=\"card\" id=\"card\">\r\n          <form onSubmit={loginSubmit} id=\"formElem\" ref={form}>\r\n            <div className=\"logo\" id=\"logo\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width={100}\r\n                height={100}\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 22c-3.123 0-5.914-1.441-7.749-3.69.259-.588.783-.995 1.867-1.246 2.244-.518 4.459-.981 3.393-2.945-3.155-5.82-.899-9.119 2.489-9.119 3.322 0 5.634 3.177 2.489 9.119-1.035 1.952 1.1 2.416 3.393 2.945 1.082.25 1.61.655 1.871 1.241-1.836 2.253-4.628 3.695-7.753 3.695z\" />\r\n              </svg>\r\n            </div>\r\n            <h1>Admin Log-in</h1>\r\n            <p className=\"levels l-user\">Username</p>\r\n            \r\n            <input\r\n              type=\"text\"\r\n              className=\"username\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              // onChange={inputChanged}\r\n            />\r\n            <p id=\"levels\" className=\"levels l-pwd\">\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              className=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              autoComplete=\"current-password\"\r\n              // onChange={inputChanged}\r\n            />\r\n            <input type=\"checkbox\" name=\"Remember_me\" value=\"on\" />\r\n            <input type=\"hidden\" />\r\n            <input type=\"hidden\" name=\"LoginForm\" value=\"LoginForm\" />\r\n            {/* <input type=\"checkbox\" class=\"checkbox\" id=\"checkbox\"> */}\r\n            <button className=\"submit\" id=\"submit\" value=\"submit\" name=\"submit\">\r\n              login\r\n            </button>\r\n          </form>\r\n          <Link\r\n            className=\"signup\"\r\n            id=\"signup\"\r\n            to=\"./storage/signup\"\r\n          >\r\n            <button className=\"b-s\"> signup</button>\r\n          </Link>\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Storage;\r\n","C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\logo\\MainLogo.jsx",[],"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\storage\\admin\\Admin.jsx",[],"C:\\xampp\\htdocs\\GoogleDrive\\drive\\src\\App\\storage\\signup.jsx",[],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":4,"column":27,"nodeType":"49","messageId":"50","endLine":4,"endColumn":33},{"ruleId":"47","severity":1,"message":"51","line":16,"column":10,"nodeType":"49","messageId":"50","endLine":16,"endColumn":19},{"ruleId":"47","severity":1,"message":"52","line":18,"column":10,"nodeType":"49","messageId":"50","endLine":18,"endColumn":25},{"ruleId":"47","severity":1,"message":"53","line":18,"column":27,"nodeType":"49","messageId":"50","endLine":18,"endColumn":36},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","'setCookie' is assigned a value but never used.","'keyCheckFunCall' is assigned a value but never used.","'incriment' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]